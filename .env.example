# Predict.fun API Configuration
API_BASE_URL=https://api.predict.fun
# For testing, use: https://api-sepolia.predict.fun

# Optional RPC URL (recommended for approvals / on-chain actions)
RPC_URL=

# Wallet Configuration
PRIVATE_KEY=your_private_key_here
PREDICT_ACCOUNT_ADDRESS=your_predict_account_address_here

# API Key (REQUIRED - all API calls need authentication)
# Get your API key from: https://discord.gg/predictdotfun
# Join Discord and open a support ticket to request an API key
API_KEY=your_api_key_here

# JWT Token (REQUIRED for private endpoints: /orders, /positions, live trading)
# Obtain via auth flow and paste here
JWT_TOKEN=

# Market Maker Configuration
# Spread percentage (e.g., 0.02 = 2% spread)
SPREAD=0.02
MIN_SPREAD=0.01
MAX_SPREAD=0.08

# Value signal bias (use value mismatch signal to skew quotes)
USE_VALUE_SIGNAL=false
VALUE_SIGNAL_WEIGHT=0.35
VALUE_CONFIDENCE_MIN=0.6

# Order size in USDT
ORDER_SIZE=10
MAX_SINGLE_ORDER_VALUE=50

# Dynamic risk sizing (optional)
# If set, will override MAX_POSITION / ORDER_SIZE with percentages of account equity.
MM_ACCOUNT_EQUITY_USD=0
MM_MAX_POSITION_PCT=0
MM_ORDER_SIZE_PCT=0
MM_MAX_SINGLE_ORDER_PCT=0
MM_MAX_DAILY_LOSS_PCT=0

# Maximum position size to hold (in USDT)
MAX_POSITION=100
INVENTORY_SKEW_FACTOR=0.15

# Adaptive market maker parameters (optional)
MM_ADAPTIVE_PARAMS=true
MM_SPREAD_VOL_WEIGHT=1.2
MM_SPREAD_LIQ_WEIGHT=0.5
MM_BOOK_SPREAD_WEIGHT=0.35
MM_VOL_EMA_ALPHA=0.2
MM_DEPTH_EMA_ALPHA=0.2
MM_DEPTH_LEVELS=3
MM_MIN_TOP_DEPTH_SHARES=0
MM_MIN_TOP_DEPTH_USD=0
MM_DEPTH_DROP_RATIO=0.5
MM_DEPTH_REF_SHARES=200
MM_INVENTORY_SKEW_VOL_WEIGHT=1.0
MM_INVENTORY_SKEW_DEPTH_WEIGHT=0.4
MM_ICEBERG_ENABLED=false
MM_ICEBERG_RATIO=0.3
MM_ICEBERG_MAX_CHUNK_SHARES=15
MM_ADAPTIVE_PROFILE=AUTO
MM_VOLATILITY_CALM_BPS=0.004
MM_VOLATILITY_VOLATILE_BPS=0.02
MM_INTERVAL_VOLATILITY_BPS=0.01
MM_INTERVAL_VOL_MULTIPLIER=1.6
MM_PROFILE_LIQUIDITY_LOW=0.5
MM_PROFILE_LIQUIDITY_HIGH=1.2
MM_PROFILE_SPREAD_MIN_CALM=0.006
MM_PROFILE_SPREAD_MAX_CALM=0.03
MM_PROFILE_SPREAD_MIN_VOLATILE=0.02
MM_PROFILE_SPREAD_MAX_VOLATILE=0.12
MM_ICEBERG_REQUOTE_MS=4000
MM_ORDER_REFRESH_MS=0
MM_ORDER_DEPTH_USAGE=0
MM_INVENTORY_SPREAD_WEIGHT=0.2
MM_REPRICE_VOL_MULTIPLIER=1.5
MM_CANCEL_VOL_MULTIPLIER=2
MM_NEAR_TOUCH_VOL_MULTIPLIER=1.5
MM_ANTI_FILL_VOL_MULTIPLIER=1.5
MM_COOLDOWN_VOL_MULTIPLIER=1.2
MM_IMBALANCE_LEVELS=3
MM_IMBALANCE_WEIGHT=0.25
MM_IMBALANCE_MAX_SKEW=0.6
MM_IMBALANCE_SPREAD_WEIGHT=0.2
MM_DEPTH_TREND_DROP_RATIO=0.4
MM_ICEBERG_REQUOTE_VOL_MULTIPLIER=1.2
MM_ICEBERG_REQUOTE_DEPTH_MULTIPLIER=1.0
MM_PROFILE_HOLD_MS=15000
MM_PROFILE_VOL_HYSTERESIS_BPS=0.002
MM_ICEBERG_FILL_PENALTY=0.6
MM_ICEBERG_PENALTY_DECAY_MS=60000
MM_METRICS_PATH=data/mm-metrics.json
MM_METRICS_FLUSH_MS=5000

# Price threshold for auto-cancel (e.g., 0.05 = 5% price move)
CANCEL_THRESHOLD=0.05
REPRICE_THRESHOLD=0.003
MIN_ORDER_INTERVAL_MS=3000
MAX_ORDERS_PER_MARKET=2
MAX_DAILY_LOSS=200

# Adaptive MM depth / profile tuning
MM_DEPTH_MIN_SHARES=50
MM_DEPTH_TARGET_SHARES=400
MM_DEPTH_PENALTY_WEIGHT=0.6
MM_DEPTH_SHARE_FACTOR=0.2
MM_ASYM_SPREAD_INVENTORY_WEIGHT=0.4
MM_ASYM_SPREAD_IMBALANCE_WEIGHT=0.35
MM_ASYM_SPREAD_MIN_FACTOR=0.6
MM_ASYM_SPREAD_MAX_FACTOR=1.8
MM_QUOTE_OFFSET_BPS=0
MM_AGGRESSIVE_MOVE_BPS=0.002
MM_AGGRESSIVE_MOVE_WINDOW_MS=1500
MM_VOLATILITY_HIGH_BPS=0.006
MM_VOLATILITY_LOW_BPS=0.002
MM_INTERVAL_PROFILE_VOLATILE_MULTIPLIER=1.3
MM_INTERVAL_PROFILE_CALM_MULTIPLIER=0.8
MM_MAX_SHARES_PER_ORDER=0
MM_SIZE_INVENTORY_WEIGHT=0.4
MM_SIZE_IMBALANCE_WEIGHT=0.3
MM_SIZE_MIN_FACTOR=0.3
MM_SIZE_MAX_FACTOR=1.4
MM_SOFT_CANCEL_BPS=0.0012
MM_HARD_CANCEL_BPS=0.0025
MM_SOFT_CANCEL_COOLDOWN_MS=2000
MM_HARD_CANCEL_COOLDOWN_MS=4500
MM_HOLD_NEAR_TOUCH_MS=800
MM_HOLD_NEAR_TOUCH_MAX_BPS=0.0010
MM_REPRICE_BUFFER_BPS=0.0015
MM_REPRICE_CONFIRM_MS=900
MM_CANCEL_BUFFER_BPS=0.004
MM_CANCEL_CONFIRM_MS=1200
MM_PARTIAL_FILL_SHARES=5
MM_PARTIAL_FILL_PENALTY=0.6
MM_PARTIAL_FILL_PENALTY_DECAY_MS=60000
MM_PARTIAL_FILL_HEDGE=false
MM_PARTIAL_FILL_HEDGE_MAX_SHARES=20
MM_PARTIAL_FILL_HEDGE_SLIPPAGE_BPS=300
MM_CANCEL_RECHECK_MS=200
MM_REPRICE_RECHECK_MS=200
MM_RECHECK_COOLDOWN_MS=1000
MM_FILL_SLOWDOWN_WINDOW_MS=60000
MM_FILL_SLOWDOWN_FACTOR=0.15
MM_FILL_SLOWDOWN_MAX_MULTIPLIER=2
MM_AUTO_SIZE_ON_FILL=true
MM_AUTO_SIZE_ON_FILL_DECAY_MS=90000
MM_AUTO_SIZE_MIN_FACTOR=0.4
MM_DYNAMIC_CANCEL_ON_FILL=false
MM_DYNAMIC_CANCEL_BOOST=0.4
MM_DYNAMIC_CANCEL_DECAY_MS=60000
MM_DYNAMIC_CANCEL_MAX_BOOST=2

# Anti-fill and hedge controls (MM)
ANTI_FILL_BPS=0.002
NEAR_TOUCH_BPS=0.0015
COOLDOWN_AFTER_CANCEL_MS=4000
VOLATILITY_PAUSE_BPS=0.01
VOLATILITY_LOOKBACK_MS=10000
PAUSE_AFTER_VOLATILITY_MS=8000
HEDGE_ON_FILL=false
HEDGE_TRIGGER_SHARES=50
HEDGE_MODE=FLATTEN
HEDGE_MAX_SLIPPAGE_BPS=250

# Cross-platform arbitrage config
CROSS_PLATFORM_ENABLED=false
CROSS_PLATFORM_MIN_PROFIT=0.01
CROSS_PLATFORM_MIN_SIMILARITY=0.78
CROSS_PLATFORM_AUTO_EXECUTE=false
CROSS_PLATFORM_REQUIRE_CONFIRM=true
CROSS_PLATFORM_MAX_MATCHES=20
CROSS_PLATFORM_TRANSFER_COST=0.002
CROSS_PLATFORM_SLIPPAGE_BPS=250
CROSS_PLATFORM_MAX_SHARES=200
CROSS_PLATFORM_DEPTH_LEVELS=10
CROSS_PLATFORM_EXECUTION_VWAP_CHECK=true
CROSS_PLATFORM_PRICE_DRIFT_BPS=40
CROSS_PLATFORM_ADAPTIVE_SIZE=true
CROSS_PLATFORM_MIN_DEPTH_SHARES=1
CROSS_PLATFORM_MIN_NOTIONAL_USD=0
CROSS_PLATFORM_MIN_PROFIT_USD=0
CROSS_PLATFORM_VOLATILITY_BPS=80
CROSS_PLATFORM_VOLATILITY_LOOKBACK_MS=2000
CROSS_PLATFORM_TOKEN_MAX_FAILURES=2
CROSS_PLATFORM_TOKEN_FAILURE_WINDOW_MS=30000
CROSS_PLATFORM_TOKEN_COOLDOWN_MS=120000
CROSS_PLATFORM_METRICS_LOG_MS=0
CROSS_PLATFORM_DEPTH_USAGE=0.5
CROSS_PLATFORM_MAX_NOTIONAL=200
CROSS_PLATFORM_RECHECK_MS=0
CROSS_PLATFORM_RECHECK_DEVIATION_BPS=0
CROSS_PLATFORM_RECHECK_DRIFT_BPS=0
CROSS_PLATFORM_STABILITY_SAMPLES=1
CROSS_PLATFORM_STABILITY_INTERVAL_MS=0
CROSS_PLATFORM_STABILITY_BPS=0
CROSS_PLATFORM_POST_TRADE_DRIFT_BPS=0
CROSS_PLATFORM_ABORT_POST_TRADE_BPS=0
CROSS_PLATFORM_ABORT_COOLDOWN_MS=0
CROSS_PLATFORM_AUTO_TUNE=true
CROSS_PLATFORM_AUTO_TUNE_MIN_FACTOR=0.5
CROSS_PLATFORM_AUTO_TUNE_MAX_FACTOR=1.2
CROSS_PLATFORM_AUTO_TUNE_UP=0.03
CROSS_PLATFORM_AUTO_TUNE_DOWN=0.08
CROSS_PLATFORM_TOKEN_MIN_SCORE=40
CROSS_PLATFORM_TOKEN_SCORE_ON_SUCCESS=2
CROSS_PLATFORM_TOKEN_SCORE_ON_FAILURE=5
CROSS_PLATFORM_TOKEN_SCORE_ON_VOLATILITY=10
CROSS_PLATFORM_TOKEN_SCORE_ON_POST_TRADE=15
CROSS_PLATFORM_PLATFORM_MIN_SCORE=40
CROSS_PLATFORM_PLATFORM_SCORE_ON_SUCCESS=1
CROSS_PLATFORM_PLATFORM_SCORE_ON_FAILURE=3
CROSS_PLATFORM_PLATFORM_SCORE_ON_VOLATILITY=6
CROSS_PLATFORM_PLATFORM_SCORE_ON_POST_TRADE=8
CROSS_PLATFORM_PLATFORM_SCORE_ON_SPREAD=6
CROSS_PLATFORM_LEG_DRIFT_SPREAD_BPS=0
CROSS_PLATFORM_ALLOWLIST_TOKENS=
CROSS_PLATFORM_BLOCKLIST_TOKENS=
CROSS_PLATFORM_ALLOWLIST_PLATFORMS=
CROSS_PLATFORM_BLOCKLIST_PLATFORMS=
CROSS_PLATFORM_CHUNK_MAX_SHARES=0
CROSS_PLATFORM_CHUNK_MAX_NOTIONAL=0
CROSS_PLATFORM_CHUNK_DELAY_MS=0
CROSS_PLATFORM_CHUNK_PREFLIGHT=true
CROSS_PLATFORM_CHUNK_AUTO_TUNE=true
CROSS_PLATFORM_CHUNK_FACTOR_MIN=0.5
CROSS_PLATFORM_CHUNK_FACTOR_MAX=1.5
CROSS_PLATFORM_CHUNK_FACTOR_UP=0.1
CROSS_PLATFORM_CHUNK_FACTOR_DOWN=0.2
CROSS_PLATFORM_CHUNK_DELAY_AUTO_TUNE=false
CROSS_PLATFORM_CHUNK_DELAY_MIN_MS=0
CROSS_PLATFORM_CHUNK_DELAY_MAX_MS=2000
CROSS_PLATFORM_CHUNK_DELAY_UP_MS=100
CROSS_PLATFORM_CHUNK_DELAY_DOWN_MS=100
CROSS_PLATFORM_PLATFORM_MAX_FAILURES=3
CROSS_PLATFORM_PLATFORM_FAILURE_WINDOW_MS=60000
CROSS_PLATFORM_PLATFORM_COOLDOWN_MS=120000
CROSS_PLATFORM_AUTO_BLOCKLIST=false
CROSS_PLATFORM_AUTO_BLOCKLIST_COOLDOWN_MS=300000
CROSS_PLATFORM_AUTO_BLOCKLIST_SCORE=30
CROSS_PLATFORM_GLOBAL_COOLDOWN_MS=0
CROSS_PLATFORM_GLOBAL_MIN_QUALITY=0
CROSS_PLATFORM_STATE_PATH=data/cross-platform-state.json
CROSS_PLATFORM_METRICS_PATH=data/cross-platform-metrics.json
CROSS_PLATFORM_METRICS_FLUSH_MS=30000
CROSS_PLATFORM_ORDER_TYPE=FOK
CROSS_PLATFORM_BATCH_ORDERS=false
CROSS_PLATFORM_BATCH_MAX=15
CROSS_PLATFORM_USE_FOK=true
CROSS_PLATFORM_PARALLEL_SUBMIT=true
CROSS_PLATFORM_LIMIT_ORDERS=true
CROSS_PLATFORM_CANCEL_OPEN_MS=1500
CROSS_PLATFORM_POST_FILL_CHECK=true
CROSS_PLATFORM_FILL_CHECK_MS=1500
CROSS_PLATFORM_HEDGE_ON_FAILURE=false
CROSS_PLATFORM_HEDGE_PREDICT_ONLY=true
CROSS_PLATFORM_HEDGE_SLIPPAGE_BPS=400
CROSS_PLATFORM_MAX_RETRIES=1
CROSS_PLATFORM_RETRY_DELAY_MS=300
CROSS_PLATFORM_CIRCUIT_MAX_FAILURES=3
CROSS_PLATFORM_CIRCUIT_WINDOW_MS=60000
CROSS_PLATFORM_CIRCUIT_COOLDOWN_MS=60000
CROSS_PLATFORM_RETRY_SIZE_FACTOR=0.6
CROSS_PLATFORM_RETRY_AGGRESSIVE_BPS=0
CROSS_PLATFORM_RETRY_FACTOR_MIN=0.4
CROSS_PLATFORM_RETRY_FACTOR_MAX=1
CROSS_PLATFORM_RETRY_FACTOR_UP=0.02
CROSS_PLATFORM_RETRY_FACTOR_DOWN=0.08
CROSS_PLATFORM_SLIPPAGE_DYNAMIC=true
CROSS_PLATFORM_SLIPPAGE_FLOOR_BPS=40
CROSS_PLATFORM_SLIPPAGE_CEIL_BPS=400
AUTO_CONFIRM=false
CROSS_PLATFORM_REQUIRE_WS=false
CROSS_PLATFORM_MAPPING_PATH=cross-platform-mapping.json
CROSS_PLATFORM_USE_MAPPING=true

# Dependency arbitrage (OR-Tools)
DEPENDENCY_ARB_ENABLED=false
DEPENDENCY_CONSTRAINTS_PATH=dependency-constraints.json
DEPENDENCY_PYTHON_PATH=python3
DEPENDENCY_PYTHON_SCRIPT=scripts/dependency-arb.py
DEPENDENCY_MIN_PROFIT=0.02
DEPENDENCY_MAX_LEGS=6
DEPENDENCY_MAX_NOTIONAL=200
DEPENDENCY_MIN_DEPTH=1
DEPENDENCY_FEE_BPS=100
DEPENDENCY_FEE_CURVE_RATE=0
DEPENDENCY_FEE_CURVE_EXPONENT=0
DEPENDENCY_SLIPPAGE_BPS=20
DEPENDENCY_MAX_ITER=12
DEPENDENCY_ORACLE_TIMEOUT_SEC=2
DEPENDENCY_TIMEOUT_MS=10000
DEPENDENCY_ALLOW_SELLS=true

# Multi-outcome arbitrage
MULTI_OUTCOME_ENABLED=true
MULTI_OUTCOME_MIN_OUTCOMES=3
MULTI_OUTCOME_MAX_SHARES=500

# Arbitrage auto-execution
ARB_AUTO_EXECUTE=false
ARB_AUTO_EXECUTE_VALUE=false
ARB_EXECUTE_TOP_N=1
ARB_EXECUTION_COOLDOWN_MS=60000
ARB_SCAN_INTERVAL_MS=10000
ARB_MAX_MARKETS=80
ARB_ORDERBOOK_CONCURRENCY=8
ARB_MARKETS_CACHE_MS=10000
ARB_WS_MAX_AGE_MS=10000
ARB_REQUIRE_WS=false
ARB_MAX_ERRORS=5
ARB_ERROR_WINDOW_MS=60000
ARB_PAUSE_ON_ERROR_MS=60000
ARB_WS_HEALTH_LOG_MS=0
ARB_PREFLIGHT_ENABLED=true
ARB_PREFLIGHT_MAX_AGE_MS=3000
ARB_DEPTH_USAGE=0.6
ARB_MIN_NOTIONAL_USD=0
ARB_MIN_PROFIT_USD=0
ARB_STABILITY_REQUIRED=true
ARB_STABILITY_MIN_COUNT=2
ARB_STABILITY_WINDOW_MS=2000
ARB_REQUIRE_WS_HEALTH=false
ARB_WS_HEALTH_MAX_AGE_MS=0
ARB_WS_HEALTH_FAILURE_BUMP_MS=1500
ARB_WS_HEALTH_RECOVERY_MS=30000

# Alerts
ALERT_WEBHOOK_URL=
ALERT_MIN_INTERVAL_MS=60000
PREDICT_FEE_BPS=100

# Polymarket data + execution
POLYMARKET_GAMMA_URL=https://gamma-api.polymarket.com
POLYMARKET_CLOB_URL=https://clob.polymarket.com
POLYMARKET_MAX_MARKETS=30
POLYMARKET_FEE_BPS=100
POLYMARKET_FEE_RATE_URL=https://clob.polymarket.com/fee-rate
POLYMARKET_FEE_RATE_CACHE_MS=300000
POLYMARKET_FEE_CURVE_RATE=0.25
POLYMARKET_FEE_CURVE_EXPONENT=2
POLYMARKET_WS_ENABLED=false
POLYMARKET_WS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market
POLYMARKET_WS_CUSTOM_FEATURE=false
POLYMARKET_WS_INITIAL_DUMP=true
POLYMARKET_WS_STALE_MS=20000
POLYMARKET_WS_RESET_ON_RECONNECT=true
POLYMARKET_CACHE_TTL_MS=60000
PREDICT_WS_ENABLED=false
PREDICT_WS_URL=wss://ws.predict.fun/ws
PREDICT_WS_API_KEY=
PREDICT_WS_TOPIC_KEY=token_id
PREDICT_WS_STALE_MS=20000
PREDICT_WS_RESET_ON_RECONNECT=true
POLYMARKET_PRIVATE_KEY=
POLYMARKET_API_KEY=
POLYMARKET_API_SECRET=
POLYMARKET_API_PASSPHRASE=
POLYMARKET_CHAIN_ID=137
POLYMARKET_AUTO_DERIVE_API_KEY=true

# Opinion data + execution
OPINION_OPENAPI_URL=https://proxy.opinion.trade:8443/openapi
OPINION_API_KEY=
OPINION_MAX_MARKETS=30
OPINION_FEE_BPS=100
OPINION_PYTHON_PATH=python3
OPINION_PYTHON_SCRIPT=scripts/opinion-trade.py
OPINION_PRIVATE_KEY=
OPINION_CHAIN_ID=56
OPINION_HOST=https://proxy.opinion.trade:8443
OPINION_WS_ENABLED=false
OPINION_WS_URL=wss://ws.opinion.trade
OPINION_WS_HEARTBEAT_MS=30000
OPINION_WS_STALE_MS=20000
OPINION_WS_RESET_ON_RECONNECT=true

# Markets to trade (comma-separated token IDs, or empty for all liquid markets)
MARKET_TOKEN_IDS=

# Refresh interval in milliseconds
REFRESH_INTERVAL=5000

# Enable/disable trading
ENABLE_TRADING=false
